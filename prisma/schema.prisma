generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id        Int      @id @default(autoincrement())
  username  String?  @unique
  email     String   @unique
  password  String?
  name      String?
  nickname  String?
  phone     String?
  tel       String?
  zipcode   String?
  address1  String?
  address2  String?
  receive_sms Boolean @default(true)
  receive_email Boolean @default(true)
  is_lifetime_member Boolean @default(false)
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("users")
}

enum BannerType {
  TOP_BANNER
  STRIP_BANNER
  HOME_SLIDER_PC
  HOME_SLIDER_MOBILE
  IMAGE_BANNER
}

model banners {
  id           BigInt     @id @default(autoincrement())
  title        String     @db.VarChar(255)
  image_url    String     @db.VarChar(512)
  href         String?    @db.VarChar(255)
  banner_type  BannerType @default(IMAGE_BANNER)
  device_type  String?    @db.VarChar(20) // 'pc', 'mobile', 'all'
  start_at     DateTime
  end_at       DateTime
  sort_order   Int        @default(0)
  is_active    Boolean    @default(true)
  created_at   DateTime   @default(now())
  updated_at   DateTime   @default(now()) @updatedAt

  @@index([is_active, start_at, end_at], map: "idx_active_dates")
  @@index([sort_order], map: "idx_sort_order")
  @@index([banner_type, is_active], map: "idx_type_active")
}
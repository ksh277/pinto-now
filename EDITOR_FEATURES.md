# 🎨 PINTO 굿즈 에디터 - 개선된 기능들

## ✨ 주요 개선사항

### 1. **이미지 자동 리사이즈** 🖼️
- **자동 캔버스 맞춤**: 이미지 업로드 시 캔버스 크기에 맞게 자동 리사이즈
- **비율 유지**: 원본 이미지의 가로세로 비율 유지
- **중앙 배치**: 이미지가 캔버스 중앙에 자동으로 배치
- **최적화**: 캔버스의 80% 크기를 넘지 않도록 자동 조정

### 2. **배경 제거 기능** 🎭
- **AI 배경 제거**: Remove.bg API를 활용한 고품질 배경 제거
- **폴백 처리**: API 실패 시 클라이언트 사이드 간단 배경 제거로 대체
- **원클릭 처리**: 선택된 이미지의 배경을 버튼 하나로 제거
- **실시간 적용**: 처리된 이미지가 즉시 캔버스에 반영

### 3. **향상된 리사이즈 핸들** 🔧
- **정교한 크기 조절**: 네 모서리 핸들로 자유자재 리사이즈
- **비율 유지**: Shift 키 또는 이미지의 경우 자동으로 비율 유지
- **실시간 미리보기**: 드래그하는 동안 실시간으로 크기 변경 확인
- **경계 제한**: 캔버스를 벗어나지 않도록 자동 제한

## 🛠️ 사용 방법

### 이미지 업로드 및 자동 리사이즈
```
1. 좌측 사이드바에서 "이미지 선택" 버튼 클릭
2. JPG, PNG, GIF, WebP 파일 선택
3. 이미지가 자동으로 캔버스에 맞게 리사이즈되어 추가됨
4. 필요시 수동으로 크기 조절 가능
```

### 배경 제거 사용법
```
1. 캔버스에서 배경을 제거할 이미지 선택
2. 좌측 사이드바 "이미지 도구" 섹션에서 "배경 제거" 버튼 클릭
3. 처리 완료까지 대기 (보통 3-10초)
4. 배경이 투명하게 처리된 이미지로 자동 교체
```

### 캔버스에 맞춤 기능
```
1. 이미지 선택 후 "캔버스에 맞춤" 버튼 클릭
2. 이미지가 캔버스 크기에 최적화되어 중앙 배치
3. 원본 비율을 유지하면서 최대한 크게 조정
```

## 🎯 제품별 최적화 크기

### 키링 (Keyring)
- **스퀘어**: 50×50mm (500×500px)
- **원형**: 60×60mm (600×600px) 
- **하트**: 55×50mm (550×500px)

### 스티커 (Sticker)
- **원형**: 50×50mm (500×500px)
- **사각**: 60×40mm (600×400px)
- **대형**: 80×60mm (800×600px)

### 폰케이스 (Phone Case)
- **아이폰**: 80×160mm (800×1600px)
- **갤럭시**: 85×165mm (850×1650px)
- **태블릿**: 200×280mm (2000×2800px)

## ⚙️ API 설정 (선택사항)

### Remove.bg API 설정
고품질 배경 제거를 위해 API 키를 설정할 수 있습니다:

1. **.env.local 파일에 추가:**
```bash
REMOVEBG_API_KEY=your_api_key_here
```

2. **API 키 발급:**
- [Remove.bg API](https://www.remove.bg/api) 방문
- 계정 생성 후 API 키 발급 (무료: 50회/월)

3. **API 없이 사용:**
- API 키가 없어도 클라이언트 사이드 배경 제거 사용 가능
- 품질은 낮지만 기본적인 흰색 배경 제거 지원

## 🔧 기술적 특징

### 자동 리사이즈 알고리즘
```javascript
// 캔버스 크기에 맞는 최적 크기 계산
const maxRatio = 0.8; // 캔버스의 80%
const aspectRatio = imgWidth / imgHeight;

if (imgWidth / maxWidth > imgHeight / maxHeight) {
  // 가로가 더 큰 경우
  newWidth = maxWidth;
  newHeight = maxWidth / aspectRatio;
} else {
  // 세로가 더 큰 경우  
  newHeight = maxHeight;
  newWidth = maxHeight * aspectRatio;
}
```

### 배경 제거 처리 순서
```
1. 서버 API (Remove.bg) 시도
2. API 실패 시 클라이언트 사이드 처리로 폴백
3. 간단한 흰색 배경 제거 알고리즘 적용
4. 투명 PNG로 변환하여 반환
```

### 성능 최적화
- **지연 로딩**: 필요할 때만 이미지 처리 함수 로드
- **메모리 관리**: 대용량 이미지 처리 후 메모리 정리
- **에러 핸들링**: 네트워크 오류나 파일 오류 시 적절한 폴백
- **사용자 피드백**: 처리 중 로딩 상태 표시

## 🎨 UI/UX 개선사항

### 직관적인 인터페이스
- **시각적 피드백**: 선택된 요소에 파란색 테두리와 핸들 표시
- **툴팁**: 모든 버튼에 기능 설명 툴팁 제공
- **상태 표시**: 처리 중일 때 버튼 비활성화 및 로딩 텍스트

### 키보드 단축키
- **Delete/Backspace**: 선택된 요소 삭제
- **Escape**: 선택 해제
- **Ctrl+Z**: 되돌리기 (계획 중)
- **Ctrl+Y**: 다시실행 (계획 중)
- **Shift+드래그**: 비율 유지하며 리사이즈

### 반응형 디자인
- **다양한 화면 크기 지원**: 데스크톱, 태블릿에서 모두 사용 가능
- **터치 지원**: 터치 디바이스에서도 정확한 조작 가능
- **유연한 레이아웃**: 사이드바와 캔버스 영역의 반응형 조정

## 🚀 향후 개선 계획

### 추가 예정 기능
- **레이어 관리**: 요소들의 순서 변경 및 레이어 패널
- **필터 효과**: 블러, 샤프닝, 색상 조정 등
- **벡터 도구**: 펜 도구, 베지어 곡선 등
- **템플릿**: 미리 디자인된 템플릿 제공
- **협업 기능**: 실시간 공동 편집
- **클라우드 저장**: 디자인을 클라우드에 저장 및 동기화

### 성능 향상
- **Canvas API 활용**: HTML5 Canvas로 더 빠른 렌더링
- **웹 워커**: 백그라운드에서 이미지 처리
- **오프라인 지원**: PWA로 오프라인에서도 기본 편집 가능

---

## 📞 지원 및 문의

- **버그 리포트**: GitHub Issues
- **기능 제안**: 개발팀 문의
- **사용법 문의**: 고객센터

**Happy Designing! 🎨✨**